
import {
  Slide13FixtureCatalog,
  Slide13ReplayFixture,
  Slide13ReplayInputEvent,
  Slide13Thresholds,
} from "./slide13.types";
import { resolveSlide13Thresholds } from "./slide13.helpers";

type Slide13FixtureSeed = {
  id: string;
  title: string;
  description: string;
  startX: number;
  startY: number;
  dragTargetX: number;
  holdAmplitude: number;
  holdLoops: number;
  releaseDeltaX: number;
  releaseDeltaY: number;
  thresholdOverrides?: Partial<Slide13Thresholds>;
};

function down(id: string, pointerId: number, x: number, y: number): Slide13ReplayInputEvent {
  return {
    id,
    machineEvent: { type: "pointer_down", pointerId, x, y },
  };
}

function move(id: string, pointerId: number, x: number, y: number): Slide13ReplayInputEvent {
  return {
    id,
    machineEvent: { type: "pointer_move", pointerId, x, y },
  };
}

function up(id: string, pointerId: number, x: number, y: number): Slide13ReplayInputEvent {
  return {
    id,
    machineEvent: { type: "pointer_up", pointerId, x, y },
  };
}

function toRailIndex(dragTargetX: number, thresholds: Slide13Thresholds): number {
  const normalized = Math.min(1, Math.max(0, dragTargetX / thresholds.maxDragTravelPx));
  return Math.min(
    thresholds.railStepCount - 1,
    Math.max(0, Math.round(normalized * (thresholds.railStepCount - 1)))
  );
}

function buildSealedEvents(seed: Slide13FixtureSeed): Slide13ReplayInputEvent[] {
  const pointerId = 13;
  const events: Slide13ReplayInputEvent[] = [];
  const start = { x: seed.startX, y: seed.startY };
  const dragHalf = Math.round(seed.dragTargetX * 0.56);

  events.push(down(`${seed.id}-down`, pointerId, start.x, start.y));
  events.push(move(`${seed.id}-drag-1`, pointerId, start.x + dragHalf, start.y));
  events.push(move(`${seed.id}-drag-2`, pointerId, start.x + seed.dragTargetX, start.y));

  let cursorX = start.x + seed.dragTargetX;
  let cursorY = start.y;
  for (let loop = 0; loop < seed.holdLoops; loop += 1) {
    const wave = loop % 2 === 0 ? seed.holdAmplitude : -seed.holdAmplitude;
    cursorY = start.y + wave;
    events.push(move(`${seed.id}-hold-a-${loop}`, pointerId, cursorX, cursorY));
    cursorX = cursorX - Math.round(seed.holdAmplitude * 0.3);
    events.push(move(`${seed.id}-hold-b-${loop}`, pointerId, cursorX, cursorY));
    cursorX = start.x + seed.dragTargetX;
    cursorY = start.y - wave;
    events.push(move(`${seed.id}-hold-c-${loop}`, pointerId, cursorX, cursorY));
  }

  events.push(
    up(
      `${seed.id}-release`,
      pointerId,
      start.x + seed.dragTargetX + seed.releaseDeltaX,
      start.y + seed.releaseDeltaY
    )
  );

  return events;
}

function buildUnsealedEvents(seed: Slide13FixtureSeed): Slide13ReplayInputEvent[] {
  const pointerId = 130;
  const events: Slide13ReplayInputEvent[] = [];
  const start = { x: seed.startX, y: seed.startY };

  events.push(down(`${seed.id}-down`, pointerId, start.x, start.y));
  events.push(move(`${seed.id}-drag-1`, pointerId, start.x + Math.round(seed.dragTargetX * 0.4), start.y));
  events.push(move(`${seed.id}-drag-2`, pointerId, start.x + seed.dragTargetX, start.y));

  const shortLoops = Math.max(1, Math.min(2, seed.holdLoops));
  for (let loop = 0; loop < shortLoops; loop += 1) {
    const offset = loop % 2 === 0 ? seed.holdAmplitude : -seed.holdAmplitude;
    events.push(move(`${seed.id}-hold-a-${loop}`, pointerId, start.x + seed.dragTargetX, start.y + offset));
    events.push(
      move(
        `${seed.id}-hold-b-${loop}`,
        pointerId,
        start.x + seed.dragTargetX - Math.round(seed.holdAmplitude * 0.16),
        start.y - offset
      )
    );
  }

  events.push(
    up(
      `${seed.id}-release`,
      pointerId,
      start.x + seed.dragTargetX + seed.releaseDeltaX,
      start.y + seed.releaseDeltaY
    )
  );
  return events;
}

function createSealedFixture(seed: Slide13FixtureSeed): Slide13ReplayFixture {
  const thresholds = resolveSlide13Thresholds(seed.thresholdOverrides);
  return {
    id: seed.id,
    title: seed.title,
    description: seed.description,
    thresholds: seed.thresholdOverrides,
    events: buildSealedEvents(seed),
    assertion: {
      expectedStage: "Sealed",
      expectedSealState: "collapsed",
      expectedSealed: true,
      expectedRailIndex: thresholds.railStepCount - 1,
      dragProgressAtLeast: 1,
      holdProgressAtLeast: 1,
      releaseProgressAtLeast: 1,
      requiredEventNames: [
        "anchor:slide13-kpi-threshold:engaged",
        "gesture:slide13-drag:completed",
        "anchor:slide13-kpi-freeze:engaged",
        "gesture:slide13-hold:completed",
        "anchor:slide13-rightseal:engaged",
        "gesture:slide13-release:completed",
        "state:slide13-sealed:set",
        "evidence:slide13-primary:satisfied",
      ],
    },
  };
}

function createUnsealedFixture(seed: Slide13FixtureSeed): Slide13ReplayFixture {
  const thresholds = resolveSlide13Thresholds(seed.thresholdOverrides);
  return {
    id: seed.id,
    title: seed.title,
    description: seed.description,
    thresholds: seed.thresholdOverrides,
    events: buildUnsealedEvents(seed),
    assertion: {
      expectedStage: "Dragged",
      expectedSealState: "open",
      expectedSealed: false,
      expectedRailIndex: toRailIndex(seed.dragTargetX, thresholds),
      dragProgressAtLeast: 0.9,
      holdProgressAtLeast: 0,
      releaseProgressAtLeast: 0,
      requiredEventNames: [
        "anchor:slide13-kpi-threshold:engaged",
        "gesture:slide13-drag:completed",
      ],
    },
  };
}

const SEALED_SEEDS: Slide13FixtureSeed[] = [
  {
    id: "slide13-seal-001",
    title: "Seal // baseline axis",
    description: "Drag horizontal + balanced hold loops + release.",
    startX: 14,
    startY: 136,
    dragTargetX: 198,
    holdAmplitude: 28,
    holdLoops: 5,
    releaseDeltaX: 18,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-002",
    title: "Seal // wide hold",
    description: "Drag plus deep hold arcs to force freeze certainty.",
    startX: 18,
    startY: 132,
    dragTargetX: 204,
    holdAmplitude: 36,
    holdLoops: 5,
    releaseDeltaX: 22,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-003",
    title: "Seal // lower rail",
    description: "Start lower, sustain hold pressure on same threshold zone.",
    startX: 12,
    startY: 148,
    dragTargetX: 208,
    holdAmplitude: 34,
    holdLoops: 6,
    releaseDeltaX: 16,
    releaseDeltaY: 3,
  },
  {
    id: "slide13-seal-004",
    title: "Seal // high-amplitude hold",
    description: "Large oscillation hold movement with moderate drag target.",
    startX: 24,
    startY: 126,
    dragTargetX: 214,
    holdAmplitude: 42,
    holdLoops: 4,
    releaseDeltaX: 20,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-005",
    title: "Seal // threshold + margin",
    description: "Just above drag threshold, then heavy hold loops.",
    startX: 16,
    startY: 140,
    dragTargetX: 188,
    holdAmplitude: 44,
    holdLoops: 6,
    releaseDeltaX: 26,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-006",
    title: "Seal // long drag",
    description: "Longer drag to higher rail tier and standard hold.",
    startX: 10,
    startY: 130,
    dragTargetX: 226,
    holdAmplitude: 30,
    holdLoops: 5,
    releaseDeltaX: 24,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-007",
    title: "Seal // compact hold",
    description: "Compact hold amplitude with additional loop count.",
    startX: 15,
    startY: 142,
    dragTargetX: 202,
    holdAmplitude: 24,
    holdLoops: 7,
    releaseDeltaX: 20,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-008",
    title: "Seal // lower start",
    description: "Lower y start to validate hold travel independence.",
    startX: 12,
    startY: 160,
    dragTargetX: 212,
    holdAmplitude: 38,
    holdLoops: 5,
    releaseDeltaX: 18,
    releaseDeltaY: -3,
  },
  {
    id: "slide13-seal-009",
    title: "Seal // high rail pressure",
    description: "Aggressive drag and medium hold loops.",
    startX: 8,
    startY: 128,
    dragTargetX: 238,
    holdAmplitude: 32,
    holdLoops: 5,
    releaseDeltaX: 28,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-010",
    title: "Seal // precision freeze",
    description: "Controlled drag with high loop repetition.",
    startX: 20,
    startY: 132,
    dragTargetX: 206,
    holdAmplitude: 26,
    holdLoops: 8,
    releaseDeltaX: 18,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-011",
    title: "Seal // override threshold set A",
    description: "Custom thresholds with shorter drag threshold.",
    startX: 14,
    startY: 138,
    dragTargetX: 172,
    holdAmplitude: 30,
    holdLoops: 6,
    releaseDeltaX: 24,
    releaseDeltaY: 2,
    thresholdOverrides: {
      dragThresholdPx: 146,
      holdTravelThresholdPx: 214,
      releaseSnapPx: 190,
      railStepCount: 9,
    },
  },
  {
    id: "slide13-seal-012",
    title: "Seal // override threshold set B",
    description: "Custom thresholds with larger drag span.",
    startX: 12,
    startY: 130,
    dragTargetX: 234,
    holdAmplitude: 34,
    holdLoops: 5,
    releaseDeltaX: 30,
    releaseDeltaY: -1,
    thresholdOverrides: {
      dragThresholdPx: 172,
      maxDragTravelPx: 382,
      holdTravelThresholdPx: 246,
      railStepCount: 10,
    },
  },
  {
    id: "slide13-seal-013",
    title: "Seal // override threshold set C",
    description: "Higher hold threshold solved by larger amplitudes.",
    startX: 14,
    startY: 150,
    dragTargetX: 214,
    holdAmplitude: 48,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: 3,
    thresholdOverrides: {
      holdTravelThresholdPx: 280,
      holdGain: 1.1,
      railStepCount: 8,
    },
  },
  {
    id: "slide13-seal-014",
    title: "Seal // short hold amplified",
    description: "Short loops but high amplitude to complete freeze.",
    startX: 12,
    startY: 136,
    dragTargetX: 216,
    holdAmplitude: 56,
    holdLoops: 4,
    releaseDeltaX: 22,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-015",
    title: "Seal // medium hold amplified",
    description: "Balanced drag and hold loops with medium amplitude.",
    startX: 16,
    startY: 144,
    dragTargetX: 210,
    holdAmplitude: 40,
    holdLoops: 5,
    releaseDeltaX: 24,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-016",
    title: "Seal // long hold low amplitude",
    description: "Lower amplitude compensated by extra loops.",
    startX: 10,
    startY: 138,
    dragTargetX: 214,
    holdAmplitude: 22,
    holdLoops: 10,
    releaseDeltaX: 16,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-017",
    title: "Seal // hold near center",
    description: "Hold path remains around centerline with repeated jitter.",
    startX: 11,
    startY: 134,
    dragTargetX: 218,
    holdAmplitude: 26,
    holdLoops: 8,
    releaseDeltaX: 14,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-018",
    title: "Seal // release upward",
    description: "Release with negative Y drift after freeze completion.",
    startX: 13,
    startY: 144,
    dragTargetX: 220,
    holdAmplitude: 34,
    holdLoops: 6,
    releaseDeltaX: 20,
    releaseDeltaY: -6,
  },
  {
    id: "slide13-seal-019",
    title: "Seal // release downward",
    description: "Release with positive Y drift after freeze completion.",
    startX: 15,
    startY: 126,
    dragTargetX: 224,
    holdAmplitude: 32,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: 6,
  },
  {
    id: "slide13-seal-020",
    title: "Seal // high drag ceiling",
    description: "Drag near max travel while preserving deterministic seal.",
    startX: 9,
    startY: 129,
    dragTargetX: 252,
    holdAmplitude: 28,
    holdLoops: 7,
    releaseDeltaX: 24,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-021",
    title: "Seal // grid series 01",
    description: "Matrix sample 01 for deterministic replay.",
    startX: 12,
    startY: 132,
    dragTargetX: 200,
    holdAmplitude: 24,
    holdLoops: 6,
    releaseDeltaX: 16,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-022",
    title: "Seal // grid series 02",
    description: "Matrix sample 02 for deterministic replay.",
    startX: 12,
    startY: 132,
    dragTargetX: 208,
    holdAmplitude: 24,
    holdLoops: 6,
    releaseDeltaX: 16,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-023",
    title: "Seal // grid series 03",
    description: "Matrix sample 03 for deterministic replay.",
    startX: 12,
    startY: 132,
    dragTargetX: 216,
    holdAmplitude: 24,
    holdLoops: 6,
    releaseDeltaX: 16,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-024",
    title: "Seal // grid series 04",
    description: "Matrix sample 04 for deterministic replay.",
    startX: 12,
    startY: 132,
    dragTargetX: 224,
    holdAmplitude: 24,
    holdLoops: 6,
    releaseDeltaX: 16,
    releaseDeltaY: 3,
  },
  {
    id: "slide13-seal-025",
    title: "Seal // grid series 05",
    description: "Matrix sample 05 for deterministic replay.",
    startX: 12,
    startY: 132,
    dragTargetX: 232,
    holdAmplitude: 24,
    holdLoops: 6,
    releaseDeltaX: 16,
    releaseDeltaY: 4,
  },
  {
    id: "slide13-seal-026",
    title: "Seal // grid series 06",
    description: "Matrix sample 06 for deterministic replay.",
    startX: 14,
    startY: 136,
    dragTargetX: 200,
    holdAmplitude: 28,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-027",
    title: "Seal // grid series 07",
    description: "Matrix sample 07 for deterministic replay.",
    startX: 14,
    startY: 136,
    dragTargetX: 208,
    holdAmplitude: 28,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-028",
    title: "Seal // grid series 08",
    description: "Matrix sample 08 for deterministic replay.",
    startX: 14,
    startY: 136,
    dragTargetX: 216,
    holdAmplitude: 28,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-029",
    title: "Seal // grid series 09",
    description: "Matrix sample 09 for deterministic replay.",
    startX: 14,
    startY: 136,
    dragTargetX: 224,
    holdAmplitude: 28,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-030",
    title: "Seal // grid series 10",
    description: "Matrix sample 10 for deterministic replay.",
    startX: 14,
    startY: 136,
    dragTargetX: 232,
    holdAmplitude: 28,
    holdLoops: 6,
    releaseDeltaX: 18,
    releaseDeltaY: 3,
  },
  {
    id: "slide13-seal-031",
    title: "Seal // grid series 11",
    description: "Matrix sample 11 for deterministic replay.",
    startX: 18,
    startY: 140,
    dragTargetX: 202,
    holdAmplitude: 32,
    holdLoops: 6,
    releaseDeltaX: 20,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-032",
    title: "Seal // grid series 12",
    description: "Matrix sample 12 for deterministic replay.",
    startX: 18,
    startY: 140,
    dragTargetX: 210,
    holdAmplitude: 32,
    holdLoops: 6,
    releaseDeltaX: 20,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-033",
    title: "Seal // grid series 13",
    description: "Matrix sample 13 for deterministic replay.",
    startX: 18,
    startY: 140,
    dragTargetX: 218,
    holdAmplitude: 32,
    holdLoops: 6,
    releaseDeltaX: 20,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-034",
    title: "Seal // grid series 14",
    description: "Matrix sample 14 for deterministic replay.",
    startX: 18,
    startY: 140,
    dragTargetX: 226,
    holdAmplitude: 32,
    holdLoops: 6,
    releaseDeltaX: 20,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-035",
    title: "Seal // grid series 15",
    description: "Matrix sample 15 for deterministic replay.",
    startX: 18,
    startY: 140,
    dragTargetX: 234,
    holdAmplitude: 32,
    holdLoops: 6,
    releaseDeltaX: 20,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-036",
    title: "Seal // grid series 16",
    description: "Matrix sample 16 for deterministic replay.",
    startX: 22,
    startY: 128,
    dragTargetX: 204,
    holdAmplitude: 36,
    holdLoops: 7,
    releaseDeltaX: 22,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-037",
    title: "Seal // grid series 17",
    description: "Matrix sample 17 for deterministic replay.",
    startX: 22,
    startY: 128,
    dragTargetX: 212,
    holdAmplitude: 36,
    holdLoops: 7,
    releaseDeltaX: 22,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-038",
    title: "Seal // grid series 18",
    description: "Matrix sample 18 for deterministic replay.",
    startX: 22,
    startY: 128,
    dragTargetX: 220,
    holdAmplitude: 36,
    holdLoops: 7,
    releaseDeltaX: 22,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-039",
    title: "Seal // grid series 19",
    description: "Matrix sample 19 for deterministic replay.",
    startX: 22,
    startY: 128,
    dragTargetX: 228,
    holdAmplitude: 36,
    holdLoops: 7,
    releaseDeltaX: 22,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-040",
    title: "Seal // grid series 20",
    description: "Matrix sample 20 for deterministic replay.",
    startX: 22,
    startY: 128,
    dragTargetX: 236,
    holdAmplitude: 36,
    holdLoops: 7,
    releaseDeltaX: 22,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-041",
    title: "Seal // matrix row 1 col 1",
    description: "Row 1 col 1 seed for pressure matrix.",
    startX: 10,
    startY: 134,
    dragTargetX: 196,
    holdAmplitude: 22,
    holdLoops: 8,
    releaseDeltaX: 16,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-042",
    title: "Seal // matrix row 1 col 2",
    description: "Row 1 col 2 seed for pressure matrix.",
    startX: 10,
    startY: 134,
    dragTargetX: 206,
    holdAmplitude: 22,
    holdLoops: 8,
    releaseDeltaX: 16,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-043",
    title: "Seal // matrix row 1 col 3",
    description: "Row 1 col 3 seed for pressure matrix.",
    startX: 10,
    startY: 134,
    dragTargetX: 216,
    holdAmplitude: 22,
    holdLoops: 8,
    releaseDeltaX: 16,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-044",
    title: "Seal // matrix row 1 col 4",
    description: "Row 1 col 4 seed for pressure matrix.",
    startX: 10,
    startY: 134,
    dragTargetX: 226,
    holdAmplitude: 22,
    holdLoops: 8,
    releaseDeltaX: 16,
    releaseDeltaY: 3,
  },
  {
    id: "slide13-seal-045",
    title: "Seal // matrix row 2 col 1",
    description: "Row 2 col 1 seed for pressure matrix.",
    startX: 14,
    startY: 138,
    dragTargetX: 198,
    holdAmplitude: 26,
    holdLoops: 8,
    releaseDeltaX: 18,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-046",
    title: "Seal // matrix row 2 col 2",
    description: "Row 2 col 2 seed for pressure matrix.",
    startX: 14,
    startY: 138,
    dragTargetX: 208,
    holdAmplitude: 26,
    holdLoops: 8,
    releaseDeltaX: 18,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-047",
    title: "Seal // matrix row 2 col 3",
    description: "Row 2 col 3 seed for pressure matrix.",
    startX: 14,
    startY: 138,
    dragTargetX: 218,
    holdAmplitude: 26,
    holdLoops: 8,
    releaseDeltaX: 18,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-048",
    title: "Seal // matrix row 2 col 4",
    description: "Row 2 col 4 seed for pressure matrix.",
    startX: 14,
    startY: 138,
    dragTargetX: 228,
    holdAmplitude: 26,
    holdLoops: 8,
    releaseDeltaX: 18,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-seal-049",
    title: "Seal // matrix row 3 col 1",
    description: "Row 3 col 1 seed for pressure matrix.",
    startX: 18,
    startY: 142,
    dragTargetX: 200,
    holdAmplitude: 30,
    holdLoops: 8,
    releaseDeltaX: 20,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-050",
    title: "Seal // matrix row 3 col 2",
    description: "Row 3 col 2 seed for pressure matrix.",
    startX: 18,
    startY: 142,
    dragTargetX: 210,
    holdAmplitude: 30,
    holdLoops: 8,
    releaseDeltaX: 20,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-051",
    title: "Seal // matrix row 3 col 3",
    description: "Row 3 col 3 seed for pressure matrix.",
    startX: 18,
    startY: 142,
    dragTargetX: 220,
    holdAmplitude: 30,
    holdLoops: 8,
    releaseDeltaX: 20,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-052",
    title: "Seal // matrix row 3 col 4",
    description: "Row 3 col 4 seed for pressure matrix.",
    startX: 18,
    startY: 142,
    dragTargetX: 230,
    holdAmplitude: 30,
    holdLoops: 8,
    releaseDeltaX: 20,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-053",
    title: "Seal // matrix row 4 col 1",
    description: "Row 4 col 1 seed for pressure matrix.",
    startX: 22,
    startY: 146,
    dragTargetX: 202,
    holdAmplitude: 34,
    holdLoops: 8,
    releaseDeltaX: 22,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-054",
    title: "Seal // matrix row 4 col 2",
    description: "Row 4 col 2 seed for pressure matrix.",
    startX: 22,
    startY: 146,
    dragTargetX: 212,
    holdAmplitude: 34,
    holdLoops: 8,
    releaseDeltaX: 22,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-055",
    title: "Seal // matrix row 4 col 3",
    description: "Row 4 col 3 seed for pressure matrix.",
    startX: 22,
    startY: 146,
    dragTargetX: 222,
    holdAmplitude: 34,
    holdLoops: 8,
    releaseDeltaX: 22,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-056",
    title: "Seal // matrix row 4 col 4",
    description: "Row 4 col 4 seed for pressure matrix.",
    startX: 22,
    startY: 146,
    dragTargetX: 232,
    holdAmplitude: 34,
    holdLoops: 8,
    releaseDeltaX: 22,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-seal-057",
    title: "Seal // matrix row 5 col 1",
    description: "Row 5 col 1 seed for pressure matrix.",
    startX: 10,
    startY: 124,
    dragTargetX: 204,
    holdAmplitude: 38,
    holdLoops: 7,
    releaseDeltaX: 24,
    releaseDeltaY: -3,
  },
  {
    id: "slide13-seal-058",
    title: "Seal // matrix row 5 col 2",
    description: "Row 5 col 2 seed for pressure matrix.",
    startX: 10,
    startY: 124,
    dragTargetX: 214,
    holdAmplitude: 38,
    holdLoops: 7,
    releaseDeltaX: 24,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-059",
    title: "Seal // matrix row 5 col 3",
    description: "Row 5 col 3 seed for pressure matrix.",
    startX: 10,
    startY: 124,
    dragTargetX: 224,
    holdAmplitude: 38,
    holdLoops: 7,
    releaseDeltaX: 24,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-060",
    title: "Seal // matrix row 5 col 4",
    description: "Row 5 col 4 seed for pressure matrix.",
    startX: 10,
    startY: 124,
    dragTargetX: 234,
    holdAmplitude: 38,
    holdLoops: 7,
    releaseDeltaX: 24,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-seal-061",
    title: "Seal // matrix row 6 col 1",
    description: "Row 6 col 1 seed for pressure matrix.",
    startX: 12,
    startY: 128,
    dragTargetX: 206,
    holdAmplitude: 42,
    holdLoops: 7,
    releaseDeltaX: 26,
    releaseDeltaY: -3,
  },
  {
    id: "slide13-seal-062",
    title: "Seal // matrix row 6 col 2",
    description: "Row 6 col 2 seed for pressure matrix.",
    startX: 12,
    startY: 128,
    dragTargetX: 216,
    holdAmplitude: 42,
    holdLoops: 7,
    releaseDeltaX: 26,
    releaseDeltaY: -2,
  },
  {
    id: "slide13-seal-063",
    title: "Seal // matrix row 6 col 3",
    description: "Row 6 col 3 seed for pressure matrix.",
    startX: 12,
    startY: 128,
    dragTargetX: 226,
    holdAmplitude: 42,
    holdLoops: 7,
    releaseDeltaX: 26,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-seal-064",
    title: "Seal // matrix row 6 col 4",
    description: "Row 6 col 4 seed for pressure matrix.",
    startX: 12,
    startY: 128,
    dragTargetX: 236,
    holdAmplitude: 42,
    holdLoops: 7,
    releaseDeltaX: 26,
    releaseDeltaY: 0,
  },
];

const UNSEALED_SEEDS: Slide13FixtureSeed[] = [
  {
    id: "slide13-open-001",
    title: "Open // below drag threshold 01",
    description: "No threshold crossing, stays open.",
    startX: 10,
    startY: 136,
    dragTargetX: 112,
    holdAmplitude: 14,
    holdLoops: 2,
    releaseDeltaX: 10,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-open-002",
    title: "Open // below drag threshold 02",
    description: "No threshold crossing, stays open.",
    startX: 14,
    startY: 132,
    dragTargetX: 126,
    holdAmplitude: 16,
    holdLoops: 2,
    releaseDeltaX: 12,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-open-003",
    title: "Open // below drag threshold 03",
    description: "No threshold crossing, stays open.",
    startX: 18,
    startY: 128,
    dragTargetX: 138,
    holdAmplitude: 18,
    holdLoops: 2,
    releaseDeltaX: 14,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-open-004",
    title: "Open // below drag threshold 04",
    description: "No threshold crossing, stays open.",
    startX: 20,
    startY: 140,
    dragTargetX: 144,
    holdAmplitude: 18,
    holdLoops: 2,
    releaseDeltaX: 12,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-open-005",
    title: "Open // weak hold after drag",
    description: "Crosses drag, hold remains insufficient.",
    startX: 12,
    startY: 138,
    dragTargetX: 182,
    holdAmplitude: 10,
    holdLoops: 1,
    releaseDeltaX: 16,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-open-006",
    title: "Open // weak hold after drag",
    description: "Crosses drag, hold remains insufficient.",
    startX: 16,
    startY: 136,
    dragTargetX: 188,
    holdAmplitude: 12,
    holdLoops: 1,
    releaseDeltaX: 14,
    releaseDeltaY: 1,
  },
  {
    id: "slide13-open-007",
    title: "Open // weak hold after drag",
    description: "Crosses drag, hold remains insufficient.",
    startX: 10,
    startY: 142,
    dragTargetX: 194,
    holdAmplitude: 12,
    holdLoops: 1,
    releaseDeltaX: 12,
    releaseDeltaY: -1,
  },
  {
    id: "slide13-open-008",
    title: "Open // weak hold after drag",
    description: "Crosses drag, hold remains insufficient.",
    startX: 8,
    startY: 130,
    dragTargetX: 200,
    holdAmplitude: 10,
    holdLoops: 1,
    releaseDeltaX: 10,
    releaseDeltaY: 0,
  },
  {
    id: "slide13-open-009",
    title: "Open // weak hold after drag",
    description: "Crosses drag, hold remains insufficient.",
    startX: 12,
    startY: 128,
    dragTargetX: 206,
    holdAmplitude: 10,
    holdLoops: 1,
    releaseDeltaX: 10,
    releaseDeltaY: 2,
  },
  {
    id: "slide13-open-010",
    title: "Open // weak hold after drag",
    description: "Crosses drag, hold remains insufficient.",
    startX: 14,
    startY: 146,
    dragTargetX: 210,
    holdAmplitude: 12,
    holdLoops: 1,
    releaseDeltaX: 12,
    releaseDeltaY: -2,
  },
];

const SEALED_FIXTURES = SEALED_SEEDS.map((seed) => createSealedFixture(seed));
const UNSEALED_FIXTURES = UNSEALED_SEEDS.map((seed) => createUnsealedFixture(seed));

export const SLIDE13_REPLAY_FIXTURES: Slide13ReplayFixture[] = [
  ...SEALED_FIXTURES,
  ...UNSEALED_FIXTURES,
];

export const SLIDE13_FIXTURE_CATALOG: Slide13FixtureCatalog = {
  version: "routeb.v1",
  generatedAt: "2026-02-10T00:00:00.000Z",
  fixtures: SLIDE13_REPLAY_FIXTURES,
};

